{"ast":null,"code":"var _jsxFileName = \"/home/david/Desktop/workSpace/bots-dashboard/src/pages/Phone.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Inviter, SessionState, UserAgent, Registerer } from \"sip.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Phone(props) {\n  _s();\n\n  const [stream, setStream] = useState(null); // const onInvite = (invitation) => {\n  //     invitation.accept();\n  // }\n  // const remoteStream = new MediaStream();\n  // const setupRemoteMedia = (session) => {\n  //     session.sessionDescriptionHandler.peerConnection.getReceivers().forEach((receiver) => {\n  //         if (receiver.track) {\n  //             remoteStream.addTrack(receiver.track);\n  //         }\n  //     });\n  //     setStream(remoteStream);\n  // }\n  // const cleanupMedia = () => {\n  //     setStream(null);\n  // }\n  // const transportOptions = {\n  //     server: \"wss://webrtc2.odricall.com:8443\"\n  // };\n  // const uri = UserAgent.makeURI(\"sip:6666@odricomt2.odricall.com\");\n  // const userAgentOptions = {\n  //     authorizationPassword: '#rCVGePfdwn%%',\n  //     authorizationUsername: '6666',\n  //     transportOptions,\n  //     delegate: {\n  //         onInvite\n  //     },\n  //     uri\n  // };\n  // const userAgent = new UserAgent(userAgentOptions);\n  // const registerer = new Registerer(userAgent);\n  // userAgent.start().then(() => {\n  //     registerer.register();\n  // });\n  // userAgent.start().then(() => {\n  //     const target = UserAgent.makeURI(\"sip:0534217014@odricomt2.odricall.com\");\n  //     const inviter = new Inviter(userAgent, target);\n  //     inviter.stateChange.addListener((state) => {\n  //         console.log(`Session state changed to ${state}`);\n  //         switch (state) {\n  //             case SessionState.Initial:\n  //             break;\n  //             case SessionState.Establishing:\n  //             break;\n  //             case SessionState.Established:\n  //             setupRemoteMedia(inviter);\n  //             break;\n  //             case SessionState.Terminating:\n  //             // fall through\n  //             case SessionState.Terminated:\n  //             cleanupMedia();\n  //             break;\n  //             default:\n  //             throw new Error(\"Unknown session state.\");\n  //     }});\n  //     inviter.invite();\n  // });\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n      src: stream,\n      autoplay: stream ? true : false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setStream('https://finance-server.com/records/david.mp3'),\n      children: \"play\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setStream(null),\n      children: \"stop\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Phone, \"8WzrO1SK6RxfwLyaWvVKmZyPavI=\");\n\n_c = Phone;\nexport default Phone;\n\nvar _c;\n\n$RefreshReg$(_c, \"Phone\");","map":{"version":3,"names":["React","useState","Inviter","SessionState","UserAgent","Registerer","Phone","props","stream","setStream"],"sources":["/home/david/Desktop/workSpace/bots-dashboard/src/pages/Phone.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Inviter, SessionState, UserAgent, Registerer } from \"sip.js\";\n\nfunction Phone(props) {\n    const [stream, setStream] = useState(null);\n\n    // const onInvite = (invitation) => {\n    //     invitation.accept();\n    // }\n\n    // const remoteStream = new MediaStream();\n\n    // const setupRemoteMedia = (session) => {\n    //     session.sessionDescriptionHandler.peerConnection.getReceivers().forEach((receiver) => {\n    //         if (receiver.track) {\n    //             remoteStream.addTrack(receiver.track);\n    //         }\n    //     });\n\n    //     setStream(remoteStream);\n    // }\n    \n    // const cleanupMedia = () => {\n    //     setStream(null);\n    // }\n\n    // const transportOptions = {\n    //     server: \"wss://webrtc2.odricall.com:8443\"\n    // };\n\n    // const uri = UserAgent.makeURI(\"sip:6666@odricomt2.odricall.com\");\n\n    // const userAgentOptions = {\n    //     authorizationPassword: '#rCVGePfdwn%%',\n    //     authorizationUsername: '6666',\n    //     transportOptions,\n    //     delegate: {\n    //         onInvite\n    //     },\n    //     uri\n    // };\n\n\n    // const userAgent = new UserAgent(userAgentOptions);\n\n    // const registerer = new Registerer(userAgent);\n\n    // userAgent.start().then(() => {\n    //     registerer.register();\n    // });\n\n    // userAgent.start().then(() => {\n    //     const target = UserAgent.makeURI(\"sip:0534217014@odricomt2.odricall.com\");\n    \n    //     const inviter = new Inviter(userAgent, target);\n\n    //     inviter.stateChange.addListener((state) => {\n    //         console.log(`Session state changed to ${state}`);\n    //         switch (state) {\n    //             case SessionState.Initial:\n    //             break;\n    //             case SessionState.Establishing:\n    //             break;\n    //             case SessionState.Established:\n    //             setupRemoteMedia(inviter);\n    //             break;\n    //             case SessionState.Terminating:\n    //             // fall through\n    //             case SessionState.Terminated:\n    //             cleanupMedia();\n    //             break;\n    //             default:\n    //             throw new Error(\"Unknown session state.\");\n    //     }});\n\n    //     inviter.invite();\n    // });\n\n\n    return (\n        <div>\n            <audio src={stream} autoplay={stream ? true : false}></audio>\n            <button onClick={() => setStream('https://finance-server.com/records/david.mp3')}>play</button>\n            <button onClick={() => setStream(null)}>stop</button>\n        </div>\n    );\n}\n\nexport default Phone;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,OAAT,EAAkBC,YAAlB,EAAgCC,SAAhC,EAA2CC,UAA3C,QAA6D,QAA7D;;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsB;EAAA;;EAClB,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,IAAD,CAApC,CADkB,CAGlB;EACA;EACA;EAEA;EAEA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EAEA;EACA;EACA;EAEA;EACA;EACA;EAEA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAGA;EAEA;EAEA;EACA;EACA;EAEA;EACA;EAEA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;;EAGA,oBACI;IAAA,wBACI;MAAO,GAAG,EAAEO,MAAZ;MAAoB,QAAQ,EAAEA,MAAM,GAAG,IAAH,GAAU;IAA9C;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAQ,OAAO,EAAE,MAAMC,SAAS,CAAC,8CAAD,CAAhC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFJ,eAGI;MAAQ,OAAO,EAAE,MAAMA,SAAS,CAAC,IAAD,CAAhC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAHJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAOH;;GAnFQH,K;;KAAAA,K;AAqFT,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}