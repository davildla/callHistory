{"ast":null,"code":"/**\n * Exception class.\n * @class\n * @name Exception\n * @exports Exception as Twilio.Exception\n * @memberOf Twilio\n * @param {string} message The exception message\n */\nfunction TwilioException(message) {\n  if (!(this instanceof TwilioException)) {\n    return new TwilioException(message);\n  }\n\n  this.message = message;\n}\n/**\n * Returns the exception message.\n *\n * @return {string} The exception message.\n */\n\n\nTwilioException.prototype.toString = function () {\n  return \"Twilio.Exception: \" + this.message;\n};\n\nfunction average(values) {\n  return values && values.length ? values.reduce(function (t, v) {\n    return t + v;\n  }) / values.length : 0;\n}\n\nfunction difference(lefts, rights, getKey) {\n  getKey = getKey || function (a) {\n    return a;\n  };\n\n  var rightKeys = new Set(rights.map(getKey));\n  return lefts.filter(function (left) {\n    return !rightKeys.has(getKey(left));\n  });\n}\n\nfunction isElectron(navigator) {\n  return !!navigator.userAgent.match('Electron');\n}\n\nfunction isChrome(window, navigator) {\n  var isCriOS = !!navigator.userAgent.match('CriOS');\n  var isHeadlessChrome = !!navigator.userAgent.match('HeadlessChrome');\n  var isGoogle = typeof window.chrome !== 'undefined' && navigator.vendor === 'Google Inc.' && navigator.userAgent.indexOf('OPR') === -1 && navigator.userAgent.indexOf('Edge') === -1;\n  return isCriOS || isElectron(navigator) || isGoogle || isHeadlessChrome;\n}\n\nfunction isFirefox(navigator) {\n  navigator = navigator || (typeof window === 'undefined' ? global.navigator : window.navigator);\n  return !!navigator && typeof navigator.userAgent === 'string' && /firefox|fxios/i.test(navigator.userAgent);\n}\n\nfunction isLegacyEdge(navigator) {\n  navigator = navigator || (typeof window === 'undefined' ? global.navigator : window.navigator);\n  return !!navigator && typeof navigator.userAgent === 'string' && /edge\\/\\d+/i.test(navigator.userAgent);\n}\n\nfunction isSafari(navigator) {\n  return !!navigator.vendor && navigator.vendor.indexOf('Apple') !== -1 && navigator.userAgent && navigator.userAgent.indexOf('CriOS') === -1 && navigator.userAgent.indexOf('FxiOS') === -1;\n}\n\nfunction isUnifiedPlanDefault(window, navigator, PeerConnection, RtpTransceiver) {\n  if (typeof window === 'undefined' || typeof navigator === 'undefined' || typeof PeerConnection === 'undefined' || typeof RtpTransceiver === 'undefined' || typeof PeerConnection.prototype === 'undefined' || typeof RtpTransceiver.prototype === 'undefined') {\n    return false;\n  }\n\n  if (isChrome(window, navigator) && PeerConnection.prototype.addTransceiver) {\n    var pc = new PeerConnection();\n    var isUnifiedPlan = true;\n\n    try {\n      pc.addTransceiver('audio');\n    } catch (e) {\n      isUnifiedPlan = false;\n    }\n\n    pc.close();\n    return isUnifiedPlan;\n  } else if (isFirefox(navigator)) {\n    return true;\n  } else if (isSafari(navigator)) {\n    return 'currentDirection' in RtpTransceiver.prototype;\n  } // Edge currently does not support unified plan.\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/17733189/\n  // https://wpdev.uservoice.com/forums/257854-microsoft-edge-developer/suggestions/34451998-sdp-unified-plan\n\n\n  return false;\n}\n\nfunction queryToJson(params) {\n  if (!params) {\n    return '';\n  }\n\n  return params.split('&').reduce(function (output, pair) {\n    var parts = pair.split('=');\n    var key = parts[0];\n    var value = decodeURIComponent((parts[1] || '').replace(/\\+/g, '%20'));\n\n    if (key) {\n      output[key] = value;\n    }\n\n    return output;\n  }, {});\n}\n/**\n * Map a list to an array of arrays, and return the flattened result.\n * @param {Array<*>|Set<*>|Map<*>} list\n * @param {function(*): Array<*>} [mapFn]\n * @returns Array<*>\n */\n\n\nfunction flatMap(list, mapFn) {\n  var listArray = list instanceof Map || list instanceof Set ? Array.from(list.values()) : list;\n\n  mapFn = mapFn || function (item) {\n    return item;\n  };\n\n  return listArray.reduce(function (flattened, item) {\n    var mapped = mapFn(item);\n    return flattened.concat(mapped);\n  }, []);\n}\n\nexports.Exception = TwilioException;\nexports.average = average;\nexports.difference = difference;\nexports.isElectron = isElectron;\nexports.isChrome = isChrome;\nexports.isFirefox = isFirefox;\nexports.isLegacyEdge = isLegacyEdge;\nexports.isSafari = isSafari;\nexports.isUnifiedPlanDefault = isUnifiedPlanDefault;\nexports.queryToJson = queryToJson;\nexports.flatMap = flatMap;","map":{"version":3,"mappings":"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","names":["TwilioException","message","prototype","toString","average","values","length","reduce","t","v","difference","lefts","rights","getKey","rightKeys","Set","map","filter","has","left","isElectron","navigator","userAgent","match","isChrome","window","isCriOS","isHeadlessChrome","isGoogle","chrome","vendor","indexOf","isFirefox","global","test","isLegacyEdge","isSafari","isUnifiedPlanDefault","PeerConnection","RtpTransceiver","addTransceiver","pc","isUnifiedPlan","e","close","queryToJson","params","split","output","pair","parts","key","value","decodeURIComponent","replace","flatMap","list","mapFn","listArray","Map","Array","from","flattened","item","mapped","concat","exports","Exception"],"sources":["/home/david/Desktop/workSpace/bots-dashboard/node_modules/twilio-client/lib/twilio/util.js"],"sourcesContent":["/**\n * Exception class.\n * @class\n * @name Exception\n * @exports Exception as Twilio.Exception\n * @memberOf Twilio\n * @param {string} message The exception message\n */\nfunction TwilioException(message) {\n  if (!(this instanceof TwilioException)) {\n    return new TwilioException(message);\n  }\n  this.message = message;\n}\n\n/**\n * Returns the exception message.\n *\n * @return {string} The exception message.\n */\nTwilioException.prototype.toString = function() {\n  return `Twilio.Exception: ${this.message}`;\n};\n\nfunction average(values) {\n  return values && values.length ? values.reduce((t, v) => t + v) / values.length : 0;\n}\n\nfunction difference(lefts, rights, getKey) {\n  getKey = getKey || (a => a);\n  const rightKeys = new Set(rights.map(getKey));\n  return lefts.filter(left => !rightKeys.has(getKey(left)));\n}\n\nfunction isElectron(navigator) {\n  return !!navigator.userAgent.match('Electron');\n}\n\nfunction isChrome(window, navigator) {\n  const isCriOS = !!navigator.userAgent.match('CriOS');\n  const isHeadlessChrome = !!navigator.userAgent.match('HeadlessChrome');\n  const isGoogle = typeof window.chrome !== 'undefined'\n    && navigator.vendor === 'Google Inc.'\n    && navigator.userAgent.indexOf('OPR') === -1\n    && navigator.userAgent.indexOf('Edge') === -1;\n\n  return isCriOS || isElectron(navigator) || isGoogle || isHeadlessChrome;\n}\n\nfunction isFirefox(navigator) {\n  navigator = navigator || (typeof window === 'undefined'\n    ? global.navigator : window.navigator);\n\n  return !!(navigator) && typeof navigator.userAgent === 'string'\n    && /firefox|fxios/i.test(navigator.userAgent);\n}\n\nfunction isLegacyEdge(navigator) {\n  navigator = navigator || (typeof window === 'undefined'\n    ? global.navigator : window.navigator);\n\n  return !!(navigator) && typeof navigator.userAgent === 'string'\n    && /edge\\/\\d+/i.test(navigator.userAgent);\n}\n\nfunction isSafari(navigator) {\n  return !!(navigator.vendor) && navigator.vendor.indexOf('Apple') !== -1\n    && navigator.userAgent\n    && navigator.userAgent.indexOf('CriOS') === -1\n    && navigator.userAgent.indexOf('FxiOS') === -1;\n}\n\nfunction isUnifiedPlanDefault(window, navigator, PeerConnection, RtpTransceiver) {\n  if (typeof window === 'undefined'\n    || typeof navigator === 'undefined'\n    || typeof PeerConnection === 'undefined'\n    || typeof RtpTransceiver === 'undefined'\n    || typeof PeerConnection.prototype === 'undefined'\n    || typeof RtpTransceiver.prototype === 'undefined') {\n    return false;\n  }\n\n  if (isChrome(window, navigator) && PeerConnection.prototype.addTransceiver) {\n    const pc = new PeerConnection();\n    let isUnifiedPlan = true;\n    try {\n      pc.addTransceiver('audio');\n    } catch (e) {\n      isUnifiedPlan = false;\n    }\n    pc.close();\n    return isUnifiedPlan;\n  } else if (isFirefox(navigator)) {\n    return true;\n  } else if (isSafari(navigator)) {\n    return 'currentDirection' in RtpTransceiver.prototype;\n  }\n\n  // Edge currently does not support unified plan.\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/17733189/\n  // https://wpdev.uservoice.com/forums/257854-microsoft-edge-developer/suggestions/34451998-sdp-unified-plan\n\n  return false;\n}\n\nfunction queryToJson(params) {\n  if (!params) {\n    return '';\n  }\n\n  return params.split('&').reduce((output, pair) => {\n    const parts = pair.split('=');\n    const key = parts[0];\n    const value = decodeURIComponent((parts[1] || '').replace(/\\+/g, '%20'));\n\n    if (key) { output[key] = value; }\n    return output;\n  }, { });\n}\n\n/**\n * Map a list to an array of arrays, and return the flattened result.\n * @param {Array<*>|Set<*>|Map<*>} list\n * @param {function(*): Array<*>} [mapFn]\n * @returns Array<*>\n */\nfunction flatMap(list, mapFn) {\n  const listArray = list instanceof Map || list instanceof Set\n    ? Array.from(list.values())\n    : list;\n\n  mapFn = mapFn || (item => item);\n\n  return listArray.reduce((flattened, item) => {\n    const mapped = mapFn(item);\n    return flattened.concat(mapped);\n  }, []);\n}\n\nexports.Exception = TwilioException;\nexports.average = average;\nexports.difference = difference;\nexports.isElectron = isElectron;\nexports.isChrome = isChrome;\nexports.isFirefox = isFirefox;\nexports.isLegacyEdge = isLegacyEdge;\nexports.isSafari = isSafari;\nexports.isUnifiedPlanDefault = isUnifiedPlanDefault;\nexports.queryToJson = queryToJson;\nexports.flatMap = flatMap;\n"]},"metadata":{},"sourceType":"script"}