{"ast":null,"code":"\"use strict\";\n\nvar Utils = require('./Utils');\n\nvar Grammar = require('./Grammar');\n\nvar debugerror = require('debug')('JsSIP:ERROR:Socket');\n\ndebugerror.log = console.warn.bind(console);\n/**\r\n * Interface documentation: https://jssip.net/documentation/$last_version/api/socket/\r\n *\r\n * interface Socket {\r\n *  attribute String via_transport\r\n *  attribute String url\r\n *  attribute String sip_uri\r\n *\r\n *  method connect();\r\n *  method disconnect();\r\n *  method send(data);\r\n *\r\n *  attribute EventHandler onconnect\r\n *  attribute EventHandler ondisconnect\r\n *  attribute EventHandler ondata\r\n * }\r\n *\r\n */\n\nexports.isSocket = function (socket) {\n  // Ignore if an array is given.\n  if (Array.isArray(socket)) {\n    return false;\n  }\n\n  if (typeof socket === 'undefined') {\n    debugerror('undefined JsSIP.Socket instance');\n    return false;\n  } // Check Properties.\n\n\n  try {\n    if (!Utils.isString(socket.url)) {\n      debugerror('missing or invalid JsSIP.Socket url property');\n      throw new Error();\n    }\n\n    if (!Utils.isString(socket.via_transport)) {\n      debugerror('missing or invalid JsSIP.Socket via_transport property');\n      throw new Error();\n    }\n\n    if (Grammar.parse(socket.sip_uri, 'SIP_URI') === -1) {\n      debugerror('missing or invalid JsSIP.Socket sip_uri property');\n      throw new Error();\n    }\n  } catch (e) {\n    return false;\n  } // Check Methods.\n\n\n  try {\n    ['connect', 'disconnect', 'send'].forEach(function (method) {\n      if (!Utils.isFunction(socket[method])) {\n        debugerror(\"missing or invalid JsSIP.Socket method: \".concat(method));\n        throw new Error();\n      }\n    });\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n};","map":null,"metadata":{},"sourceType":"script"}