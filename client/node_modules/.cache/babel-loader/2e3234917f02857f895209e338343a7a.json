{"ast":null,"code":"var _jsxFileName = \"/home/david/Desktop/workSpace/bots-dashboard/src/pages/Phone/Softphone.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { SIP } from 'sip.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SoftPhone = () => {\n  _s();\n\n  const [localAudio, setLocalAudio] = useState(null);\n  const [remoteAudio, setRemoteAudio] = useState(null);\n  const [ua, setUa] = useState(null);\n  const [session, setSession] = useState(null);\n  useEffect(() => {\n    // Initialize SIP.js user agent\n    const ua = new SIP.UA({\n      uri: 'sip:alice@example.com',\n      wsServers: 'ws://localhost:8080'\n    });\n    setUa(ua);\n  }, []);\n\n  const handleCall = () => {\n    // Make a call using SIP.js\n    const session = ua.invite('sip:bob@example.com', {\n      media: {\n        constraints: {\n          audio: true,\n          video: false\n        },\n        render: {\n          local: localAudio,\n          remote: remoteAudio\n        }\n      }\n    });\n    setSession(session);\n  };\n\n  const handleHangup = () => {\n    // Hang up the call using SIP.js\n    if (session) {\n      session.terminate();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: setLocalAudio\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: setRemoteAudio,\n      autoPlay: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleCall,\n      children: \"Call\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleHangup,\n      children: \"Hang up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SoftPhone, \"9Pfyq9WeA3KdScXLoGo35REnS3c=\");\n\n_c = SoftPhone;\nexport default SoftPhone;\n\nvar _c;\n\n$RefreshReg$(_c, \"SoftPhone\");","map":{"version":3,"names":["React","useState","useEffect","SIP","SoftPhone","localAudio","setLocalAudio","remoteAudio","setRemoteAudio","ua","setUa","session","setSession","UA","uri","wsServers","handleCall","invite","media","constraints","audio","video","render","local","remote","handleHangup","terminate"],"sources":["/home/david/Desktop/workSpace/bots-dashboard/src/pages/Phone/Softphone.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { SIP } from 'sip.js';\n\nconst SoftPhone = () => {\n    const [localAudio, setLocalAudio] = useState(null);\n    const [remoteAudio, setRemoteAudio] = useState(null);\n    const [ua, setUa] = useState(null);\n    const [session, setSession] = useState(null);\n\n    useEffect(() => {\n        // Initialize SIP.js user agent\n        const ua = new SIP.UA({\n            uri: 'sip:alice@example.com',\n            wsServers: 'ws://localhost:8080'\n        });\n\n        setUa(ua);\n    }, []);\n\n    const handleCall = () => {\n        // Make a call using SIP.js\n        const session = ua.invite('sip:bob@example.com', {\n            media: {\n                constraints: { audio: true, video: false },\n                render: {\n                    local: localAudio,\n                    remote: remoteAudio\n                }\n            }\n        });\n\n        setSession(session);\n    };\n\n    const handleHangup = () => {\n        // Hang up the call using SIP.js\n        if (session) {\n            session.terminate();\n        }\n    };\n\n    return (\n        <div>\n            <audio ref={setLocalAudio} />\n            <audio ref={setRemoteAudio} autoPlay />\n            <button onClick={handleCall}>Call</button>\n            <button onClick={handleHangup}>Hang up</button>\n        </div>\n    );\n};\n\nexport default SoftPhone;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,GAAT,QAAoB,QAApB;;;AAEA,MAAMC,SAAS,GAAG,MAAM;EAAA;;EACpB,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BL,QAAQ,CAAC,IAAD,CAA5C;EACA,MAAM,CAACM,WAAD,EAAcC,cAAd,IAAgCP,QAAQ,CAAC,IAAD,CAA9C;EACA,MAAM,CAACQ,EAAD,EAAKC,KAAL,IAAcT,QAAQ,CAAC,IAAD,CAA5B;EACA,MAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,IAAD,CAAtC;EAEAC,SAAS,CAAC,MAAM;IACZ;IACA,MAAMO,EAAE,GAAG,IAAIN,GAAG,CAACU,EAAR,CAAW;MAClBC,GAAG,EAAE,uBADa;MAElBC,SAAS,EAAE;IAFO,CAAX,CAAX;IAKAL,KAAK,CAACD,EAAD,CAAL;EACH,CARQ,EAQN,EARM,CAAT;;EAUA,MAAMO,UAAU,GAAG,MAAM;IACrB;IACA,MAAML,OAAO,GAAGF,EAAE,CAACQ,MAAH,CAAU,qBAAV,EAAiC;MAC7CC,KAAK,EAAE;QACHC,WAAW,EAAE;UAAEC,KAAK,EAAE,IAAT;UAAeC,KAAK,EAAE;QAAtB,CADV;QAEHC,MAAM,EAAE;UACJC,KAAK,EAAElB,UADH;UAEJmB,MAAM,EAAEjB;QAFJ;MAFL;IADsC,CAAjC,CAAhB;IAUAK,UAAU,CAACD,OAAD,CAAV;EACH,CAbD;;EAeA,MAAMc,YAAY,GAAG,MAAM;IACvB;IACA,IAAId,OAAJ,EAAa;MACTA,OAAO,CAACe,SAAR;IACH;EACJ,CALD;;EAOA,oBACI;IAAA,wBACI;MAAO,GAAG,EAAEpB;IAAZ;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAO,GAAG,EAAEE,cAAZ;MAA4B,QAAQ;IAApC;MAAA;MAAA;MAAA;IAAA,QAFJ,eAGI;MAAQ,OAAO,EAAEQ,UAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAHJ,eAII;MAAQ,OAAO,EAAES,YAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAJJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAQH,CA9CD;;GAAMrB,S;;KAAAA,S;AAgDN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}