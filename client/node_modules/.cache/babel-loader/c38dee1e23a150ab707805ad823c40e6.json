{"ast":null,"code":"import { defaultMediaStreamFactory } from \"./media-stream-factory-default.js\";\nimport { defaultPeerConnectionConfiguration } from \"./peer-connection-configuration-default.js\";\nimport { SessionDescriptionHandler } from \"./session-description-handler.js\";\n/**\n * Function which returns a SessionDescriptionHandlerFactory.\n * @remarks\n * See {@link defaultPeerConnectionConfiguration} for the default peer connection configuration.\n * The ICE gathering timeout defaults to 5000ms.\n * @param mediaStreamFactory - MediaStream factory.\n * @public\n */\n\nexport function defaultSessionDescriptionHandlerFactory(mediaStreamFactory) {\n  return (session, options) => {\n    // provide a default media stream factory if need be\n    if (mediaStreamFactory === undefined) {\n      mediaStreamFactory = defaultMediaStreamFactory();\n    } // make sure we allow `0` to be passed in so timeout can be disabled\n\n\n    const iceGatheringTimeout = (options === null || options === void 0 ? void 0 : options.iceGatheringTimeout) !== undefined ? options === null || options === void 0 ? void 0 : options.iceGatheringTimeout : 5000; // merge passed factory options into default session description configuration\n\n    const sessionDescriptionHandlerConfiguration = {\n      iceGatheringTimeout,\n      peerConnectionConfiguration: Object.assign(Object.assign({}, defaultPeerConnectionConfiguration()), options === null || options === void 0 ? void 0 : options.peerConnectionConfiguration)\n    };\n    const logger = session.userAgent.getLogger(\"sip.SessionDescriptionHandler\");\n    return new SessionDescriptionHandler(logger, mediaStreamFactory, sessionDescriptionHandlerConfiguration);\n  };\n}","map":null,"metadata":{},"sourceType":"module"}