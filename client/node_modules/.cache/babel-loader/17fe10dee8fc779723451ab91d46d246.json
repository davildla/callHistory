{"ast":null,"code":"var _jsxFileName = \"/home/david/Desktop/workSpace/bots-dashboard/src/pages/IncommingCallSnackBar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Snackbar, Button } from '@mui/material'; // import utils from './generalUtils';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction IncommingCallSnackBar(_ref) {\n  _s();\n\n  let {\n    call,\n    incomingAlert\n  } = _ref;\n  // useEffect(() => {\n  //     if (incomingCall) {\n  //         window.onbeforeunload = () => {\n  //             return true;\n  //         };\n  //     }\n  //     return () => {\n  //         window.onbeforeunload = null;\n  //     };\n  // }, [incomingCall]);\n  const [activeCall, setActiveCall] = useState(false);\n\n  const answer = () => {\n    setActiveCall(true);\n    call.accept();\n  };\n\n  const dismiss = () => {\n    call.reject();\n  };\n\n  const action = /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      color: \"success\",\n      size: \"small\",\n      onClick: answer,\n      children: \"\\u05DE\\u05E2\\u05E0\\u05D4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      color: \"error\",\n      size: \"small\",\n      onClick: dismiss,\n      children: \"\\u05D3\\u05D7\\u05D9\\u05D9\\u05D4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n\n  let ringtone = /*#__PURE__*/_jsxDEV(\"audio\", {\n    controls: true,\n    autoPlay: true,\n    loop: true,\n    style: {\n      'display': 'none'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"source\", {\n      src: \"https://finance-server.com/records/ringtone.mp3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), \"Your browser does not support the audio element.\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n\n  let incoming = /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n      anchorOrigin: {\n        vertical: 'top',\n        horizontal: 'center'\n      },\n      open: incomingAlert,\n      message: `שיחה נכנסת`,\n      action: action\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), incomingAlert ? ringtone : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: activeCall ? null : incoming\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n}\n\n_s(IncommingCallSnackBar, \"HRbGmNjSJpj1FdZakWCJR8qRqDI=\");\n\n_c = IncommingCallSnackBar;\nexport default IncommingCallSnackBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"IncommingCallSnackBar\");","map":{"version":3,"names":["React","useState","Snackbar","Button","IncommingCallSnackBar","call","incomingAlert","activeCall","setActiveCall","answer","accept","dismiss","reject","action","ringtone","incoming","vertical","horizontal"],"sources":["/home/david/Desktop/workSpace/bots-dashboard/src/pages/IncommingCallSnackBar.js"],"sourcesContent":["import React, {useState} from 'react';\nimport {Snackbar, Button} from '@mui/material';\n\n// import utils from './generalUtils';\n\n\nfunction IncommingCallSnackBar({call, incomingAlert}) {\n\n    // useEffect(() => {\n    //     if (incomingCall) {\n    //         window.onbeforeunload = () => {\n    //             return true;\n    //         };\n    //     }\n    \n    //     return () => {\n    //         window.onbeforeunload = null;\n    //     };\n    // }, [incomingCall]);\n\n    const [activeCall, setActiveCall] = useState(false);\n\n\n    const answer = () => {\n        setActiveCall(true);\n        call.accept();\n    }\n\n    const dismiss = () => {\n        call.reject();\n    }\n\n\n    const action = (\n        <React.Fragment>\n            <Button color=\"success\" size=\"small\" onClick={answer}>\n                מענה\n            </Button>\n            <Button color=\"error\" size=\"small\" onClick={dismiss}>\n                דחייה\n            </Button>\n        </React.Fragment>\n    );\n\n\n    let ringtone = (\n        <audio controls autoPlay loop style={{'display' : 'none'}}>\n            <source src='https://finance-server.com/records/ringtone.mp3'/>\n            Your browser does not support the audio element.\n        </audio>\n        )\n\n    let incoming = (\n        <div>\n            <Snackbar\n                anchorOrigin={{ vertical : 'top', horizontal : 'center' }}\n                open={incomingAlert}\n                message={`שיחה נכנסת`}\n                action={action}\n            />\n            {incomingAlert ? ringtone : null}\n    </div>\n    )\n\n    return (\n        <div>\n            {activeCall ? null : incoming}\n        </div>\n    );\n}\n\nexport default IncommingCallSnackBar;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,QAAR,EAAkBC,MAAlB,QAA+B,eAA/B,C,CAEA;;;;AAGA,SAASC,qBAAT,OAAsD;EAAA;;EAAA,IAAvB;IAACC,IAAD;IAAOC;EAAP,CAAuB;EAElD;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BP,QAAQ,CAAC,KAAD,CAA5C;;EAGA,MAAMQ,MAAM,GAAG,MAAM;IACjBD,aAAa,CAAC,IAAD,CAAb;IACAH,IAAI,CAACK,MAAL;EACH,CAHD;;EAKA,MAAMC,OAAO,GAAG,MAAM;IAClBN,IAAI,CAACO,MAAL;EACH,CAFD;;EAKA,MAAMC,MAAM,gBACR,QAAC,KAAD,CAAO,QAAP;IAAA,wBACI,QAAC,MAAD;MAAQ,KAAK,EAAC,SAAd;MAAwB,IAAI,EAAC,OAA7B;MAAqC,OAAO,EAAEJ,MAA9C;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAII,QAAC,MAAD;MAAQ,KAAK,EAAC,OAAd;MAAsB,IAAI,EAAC,OAA3B;MAAmC,OAAO,EAAEE,OAA5C;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAJJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;;EAYA,IAAIG,QAAQ,gBACR;IAAO,QAAQ,MAAf;IAAgB,QAAQ,MAAxB;IAAyB,IAAI,MAA7B;IAA8B,KAAK,EAAE;MAAC,WAAY;IAAb,CAArC;IAAA,wBACI;MAAQ,GAAG,EAAC;IAAZ;MAAA;MAAA;MAAA;IAAA,QADJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;;EAOA,IAAIC,QAAQ,gBACR;IAAA,wBACI,QAAC,QAAD;MACI,YAAY,EAAE;QAAEC,QAAQ,EAAG,KAAb;QAAoBC,UAAU,EAAG;MAAjC,CADlB;MAEI,IAAI,EAAEX,aAFV;MAGI,OAAO,EAAG,YAHd;MAII,MAAM,EAAEO;IAJZ;MAAA;MAAA;MAAA;IAAA,QADJ,EAOKP,aAAa,GAAGQ,QAAH,GAAc,IAPhC;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;;EAYA,oBACI;IAAA,UACKP,UAAU,GAAG,IAAH,GAAUQ;EADzB;IAAA;IAAA;IAAA;EAAA,QADJ;AAKH;;GA/DQX,qB;;KAAAA,qB;AAiET,eAAeA,qBAAf"},"metadata":{},"sourceType":"module"}