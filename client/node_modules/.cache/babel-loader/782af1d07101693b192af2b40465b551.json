{"ast":null,"code":"var _jsxFileName = \"/home/david/Desktop/workSpace/bots-dashboard/src/pages/Phone.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { UA } from \"sip.js/lib/platform/web\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Softphone = () => {\n  _s();\n\n  const [sipClient, setSipClient] = useState(null);\n  const [session, setSession] = useState(null);\n  useEffect(() => {\n    // Create SIP client\n    const client = new UA({\n      uri: `sip:200-dataocean@82.166.96.228`,\n      authorizationUser: \"200-dataocean\",\n      password: \"password123\",\n      transportOptions: {\n        wsServers: [\"ws://82.166.96.228:5066\"]\n      }\n    });\n    setSipClient(client); // Start SIP client\n\n    client.start(); // Register SIP client\n\n    client.on(\"registered\", () => {\n      console.log(\"SIP client registered\");\n    }); // Handle incoming calls\n\n    client.on(\"invite\", incomingSession => {\n      setSession(incomingSession); // Answer incoming call\n\n      incomingSession.accept({\n        mediaConstraints: {\n          audio: true,\n          video: false\n        }\n      }); // Handle call events\n\n      incomingSession.on(\"progress\", () => {\n        console.log(\"Call in progress\");\n      });\n      incomingSession.on(\"accepted\", () => {\n        console.log(\"Call accepted\");\n      });\n      incomingSession.on(\"failed\", () => {\n        console.log(\"Call failed\");\n      });\n      incomingSession.on(\"terminated\", () => {\n        console.log(\"Call terminated\");\n        setSession(null);\n      });\n    });\n  }, []); // Make outgoing call\n\n  const makeCall = () => {\n    const destination = \"sip:destination@example.com\";\n    const outgoingSession = sipClient.invite(destination, {\n      mediaConstraints: {\n        audio: true,\n        video: false\n      }\n    }); // Handle call events\n\n    outgoingSession.on(\"progress\", () => {\n      console.log(\"Call in progress\");\n    });\n    outgoingSession.on(\"accepted\", () => {\n      console.log(\"Call accepted\");\n    });\n    outgoingSession.on(\"failed\", () => {\n      console.log(\"Call failed\");\n    });\n    outgoingSession.on(\"terminated\", () => {\n      console.log(\"Call terminated\");\n    });\n  }; // Hang up call\n\n\n  const hangUp = () => {\n    session.terminate();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: makeCall,\n      children: \"Make call\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), session && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: hangUp,\n      children: \"Hang up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Softphone, \"TeKmO2hbySDGmL3bmNKjc13ZKjM=\");\n\n_c = Softphone;\nexport default Softphone;\n\nvar _c;\n\n$RefreshReg$(_c, \"Softphone\");","map":{"version":3,"names":["React","useState","useEffect","UA","Softphone","sipClient","setSipClient","session","setSession","client","uri","authorizationUser","password","transportOptions","wsServers","start","on","console","log","incomingSession","accept","mediaConstraints","audio","video","makeCall","destination","outgoingSession","invite","hangUp","terminate"],"sources":["/home/david/Desktop/workSpace/bots-dashboard/src/pages/Phone.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { UA } from \"sip.js/lib/platform/web\";\n\nconst Softphone = () => {\n    const [sipClient, setSipClient] = useState(null);\n    const [session, setSession] = useState(null);\n\n    useEffect(() => {\n        // Create SIP client\n        const client = new UA({\n            uri: `sip:200-dataocean@82.166.96.228`,\n            authorizationUser: \"200-dataocean\",\n            password: \"password123\",\n            transportOptions: {\n                wsServers: [\"ws://82.166.96.228:5066\"],\n            },\n        });\n        setSipClient(client);\n\n        // Start SIP client\n        client.start();\n\n        // Register SIP client\n        client.on(\"registered\", () => {\n            console.log(\"SIP client registered\");\n        });\n\n        // Handle incoming calls\n        client.on(\"invite\", (incomingSession) => {\n            setSession(incomingSession);\n\n            // Answer incoming call\n            incomingSession.accept({\n                mediaConstraints: { audio: true, video: false },\n            });\n\n            // Handle call events\n            incomingSession.on(\"progress\", () => {\n                console.log(\"Call in progress\");\n            });\n            incomingSession.on(\"accepted\", () => {\n                console.log(\"Call accepted\");\n            });\n            incomingSession.on(\"failed\", () => {\n                console.log(\"Call failed\");\n            });\n            incomingSession.on(\"terminated\", () => {\n                console.log(\"Call terminated\");\n                setSession(null);\n            });\n        });\n    }, []);\n\n    // Make outgoing call\n    const makeCall = () => {\n        const destination = \"sip:destination@example.com\";\n        const outgoingSession = sipClient.invite(destination, {\n            mediaConstraints: { audio: true, video: false },\n        });\n\n        // Handle call events\n        outgoingSession.on(\"progress\", () => {\n            console.log(\"Call in progress\");\n        });\n        outgoingSession.on(\"accepted\", () => {\n            console.log(\"Call accepted\");\n        });\n        outgoingSession.on(\"failed\", () => {\n            console.log(\"Call failed\");\n        });\n        outgoingSession.on(\"terminated\", () => {\n            console.log(\"Call terminated\");\n        });\n    };\n\n    // Hang up call\n    const hangUp = () => {\n        session.terminate();\n    };\n\n    return (\n        <div>\n            <button onClick={makeCall}>Make call</button>\n            {session && <button onClick={hangUp}>Hang up</button>}\n        </div>\n    );\n};\n\nexport default Softphone;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}